# @ldesign/calendar

<div align="center">

# ğŸ“… @ldesign/calendar

**ä¼ä¸šçº§æ—¥å†ç»„ä»¶ - æœˆ/å‘¨/æ—¥è§†å›¾ã€äº‹ä»¶ç®¡ç†ã€æ‹–æ‹½è°ƒæ•´ã€é‡å¤äº‹ä»¶**

[![Version](https://img.shields.io/badge/version-0.1.0-blue.svg)](./CHANGELOG.md)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.7+-blue.svg)](./tsconfig.json)
[![Views](https://img.shields.io/badge/views-Month%2FWeek%2FDay%2FAgenda-green.svg)](#åŠŸèƒ½ç‰¹æ€§)
[![Framework](https://img.shields.io/badge/framework-Vue%2FReact%2FWebComponent-orange.svg)](#æ¡†æ¶æ”¯æŒ)

å®Œæ•´ã€çµæ´»ã€é«˜æ€§èƒ½çš„æ—¥å†ç»„ä»¶ï¼Œæ”¯æŒä»»æ„æ¡†æ¶ä½¿ç”¨

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [API æ–‡æ¡£](#api-æ–‡æ¡£) â€¢ [ç¤ºä¾‹](#ç¤ºä¾‹)

</div>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ—“ï¸ å¤šç§è§†å›¾
- **æœˆè§†å›¾** - 6å‘¨ç½‘æ ¼å¸ƒå±€ï¼Œæ¸…æ™°å±•ç¤ºæ•´æœˆäº‹ä»¶
- **å‘¨è§†å›¾** - æ—¶é—´è½´ + 7åˆ—æ—¥æœŸï¼Œç²¾ç¡®åˆ°åˆ†é’Ÿ
- **æ—¥è§†å›¾** - å•æ—¥è¯¦ç»†è§†å›¾ï¼Œäº‹ä»¶è¯¦æƒ…ä¸€è§ˆæ— ä½™
- **è®®ç¨‹è§†å›¾** - åˆ—è¡¨æ¨¡å¼ï¼Œå¿«é€Ÿæµè§ˆäº‹ä»¶æ¸…å•

### ğŸ“ äº‹ä»¶ç®¡ç†
- âœ… **å®Œæ•´ CRUD** - åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤
- âœ… **å…¨å¤©äº‹ä»¶** - æ”¯æŒå…¨å¤©äº‹ä»¶æ ‡è®°
- âœ… **äº‹ä»¶æœç´¢** - æŒ‰æ ‡é¢˜ã€æè¿°ã€åœ°ç‚¹æœç´¢
- âœ… **äº‹ä»¶éªŒè¯** - è‡ªåŠ¨éªŒè¯äº‹ä»¶æ•°æ®å®Œæ•´æ€§

### ğŸ”„ é‡å¤äº‹ä»¶
- ğŸ“† **å¤šç§é¢‘ç‡** - æ¯å¤©/æ¯å‘¨/æ¯æœˆ/æ¯å¹´
- ğŸ“† **è‡ªå®šä¹‰é—´éš”** - æ¯Nå¤©é‡å¤
- ğŸ“† **æŒ‡å®šæ˜ŸæœŸ** - æ¯å‘¨ä¸€ã€ä¸‰ã€äº”
- ğŸ“† **ç»“æŸæ¡ä»¶** - æŒ‡å®šæ—¥æœŸæˆ–é‡å¤æ¬¡æ•°
- ğŸ“† **RRULE æ”¯æŒ** - æ ‡å‡†é‡å¤è§„åˆ™

### ğŸ–±ï¸ äº¤äº’åŠŸèƒ½
- ğŸ‘† **æ‹–æ‹½ç§»åŠ¨** - ç›´æ¥æ‹–æ‹½äº‹ä»¶åˆ°æ–°æ—¥æœŸ
- â†•ï¸ **è°ƒæ•´å¤§å°** - æ‹–æ‹½è¾¹ç¼˜è°ƒæ•´äº‹ä»¶æ—¶é•¿
- â• **æ‹–æ‹½åˆ›å»º** - åœ¨ç©ºç™½å¤„æ‹–æ‹½åˆ›å»ºæ–°äº‹ä»¶
- ğŸ–±ï¸ **äº‹ä»¶/æ—¥æœŸç‚¹å‡»** - ä¸°å¯Œçš„äº¤äº’å›è°ƒ

### ğŸ’¾ å­˜å‚¨ç³»ç»Ÿ
- ğŸ“¦ **LocalStorage** - ç¦»çº¿å­˜å‚¨ï¼Œè‡ªåŠ¨æŒä¹…åŒ–
- ğŸŒ **API é€‚é…å™¨** - è½»æ¾å¯¹æ¥åç«¯æ¥å£
- ğŸ”§ **è‡ªå®šä¹‰é€‚é…å™¨** - çµæ´»æ‰©å±•å­˜å‚¨æ–¹æ¡ˆ

### ğŸ¨ æ¸²æŸ“å¼•æ“
- ğŸ–¼ï¸ **æ··åˆæ¸²æŸ“** - DOM + Canvas æ··åˆæ¨¡å¼
- âš¡ **é«˜æ€§èƒ½** - Canvas åŠ é€Ÿï¼Œæ”¯æŒå¤§é‡äº‹ä»¶
- ğŸ“± **å“åº”å¼** - å®Œç¾é€‚é…ç§»åŠ¨ç«¯
- ğŸ¯ **é«˜ DPI** - è‡ªåŠ¨å¤„ç† Retina å±å¹•

### ğŸ§© æ¡†æ¶æ”¯æŒ
- **Vue 3** - ç»„ä»¶ + Composition API
- **React** - ç»„ä»¶ + Hooks
- **Web Component** - æ ‡å‡†è‡ªå®šä¹‰å…ƒç´ 
- **Vanilla JS** - çº¯ JavaScript ä½¿ç”¨

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
npm install @ldesign/calendar
# æˆ–
pnpm add @ldesign/calendar
```

### Vanilla JavaScript

```javascript
import { createCalendar } from '@ldesign/calendar';
import '@ldesign/calendar/dist/calendar.css';

const calendar = createCalendar('#calendar', {
  initialView: 'month',
  editable: true,
  selectable: true,
  callbacks: {
    onEventClick: (event) => {
      console.log('ç‚¹å‡»äº‹ä»¶:', event);
    },
    onDateSelect: (start, end) => {
      calendar.addEvent({
        title: 'æ–°äº‹ä»¶',
        start,
        end,
      });
    },
  },
});

// æ·»åŠ äº‹ä»¶
calendar.addEvent({
  title: 'å›¢é˜Ÿä¼šè®®',
  start: new Date(2024, 0, 15, 10, 0),
  end: new Date(2024, 0, 15, 11, 30),
  color: '#1890ff',
});
```

### Vue 3

```vue
<template>
  <LCalendar
    :config="calendarConfig"
    @event-click="handleEventClick"
    @date-select="handleDateSelect"
  />
</template>

<script setup>
import { LCalendar } from '@ldesign/calendar/vue';
import '@ldesign/calendar/dist/calendar.css';

const calendarConfig = {
  initialView: 'month',
  editable: true,
  selectable: true,
};

const handleEventClick = (event) => {
  console.log('ç‚¹å‡»äº‹ä»¶:', event);
};

const handleDateSelect = (start, end) => {
  // åˆ›å»ºæ–°äº‹ä»¶
};
</script>
```

**Composition API:**

```vue
<script setup>
import { useCalendar } from '@ldesign/calendar/vue';

const {
  calendarRef,
  events,
  addEvent,
  changeView,
  next,
  prev,
  today,
} = useCalendar({
  initialView: 'week',
  editable: true,
});

const handleAddEvent = async () => {
  await addEvent({
    title: 'æ–°äº‹ä»¶',
    start: new Date(),
    end: new Date(),
  });
};
</script>

<template>
  <div ref="calendarRef"></div>
</template>
```

### React

```tsx
import React, { useRef } from 'react';
import { Calendar, CalendarRef } from '@ldesign/calendar/react';
import '@ldesign/calendar/dist/calendar.css';

function App() {
  const calendarRef = useRef<CalendarRef>(null);

  const handleEventClick = (event) => {
    console.log('ç‚¹å‡»äº‹ä»¶:', event);
  };

  const handleDateSelect = async (start, end) => {
    await calendarRef.current?.addEvent({
      title: 'æ–°äº‹ä»¶',
      start,
      end,
    });
  };

  return (
    <Calendar
      ref={calendarRef}
      config={{ initialView: 'month', editable: true }}
      onEventClick={handleEventClick}
      onDateSelect={handleDateSelect}
    />
  );
}
```

**ä½¿ç”¨ Hook:**

```tsx
import { useCalendar } from '@ldesign/calendar/react';

function App() {
  const {
    calendarRef,
    events,
    addEvent,
    changeView,
    next,
    prev,
    today,
  } = useCalendar({
    initialView: 'week',
    editable: true,
  });

  return <div ref={calendarRef} />;
}
```

### Web Component

```html
<ldesign-calendar 
  view="month"
  editable="true"
  selectable="true"
></ldesign-calendar>

<script type="module">
  import '@ldesign/calendar/webcomponent';
  
  const calendar = document.querySelector('ldesign-calendar');
  
  calendar.addEventListener('event-click', (e) => {
    console.log('ç‚¹å‡»äº‹ä»¶:', e.detail);
  });
  
  calendar.addEvent({
    title: 'å›¢é˜Ÿä¼šè®®',
    start: new Date(2024, 0, 15, 10, 0),
    end: new Date(2024, 0, 15, 11, 30),
  });
</script>
```

---

## ğŸ“– API æ–‡æ¡£

### Calendar é…ç½®

```typescript
interface CalendarConfig {
  // è§†å›¾é…ç½®
  initialView?: 'month' | 'week' | 'day' | 'agenda'; // é»˜è®¤: 'month'
  initialDate?: Date; // é»˜è®¤: new Date()
  
  // å·¥å…·æ é…ç½®
  toolbar?: {
    title?: boolean; // æ˜¾ç¤ºæ ‡é¢˜
    today?: boolean; // æ˜¾ç¤º"ä»Šå¤©"æŒ‰é’®
    navigation?: boolean; // æ˜¾ç¤ºå‰åå¯¼èˆª
    viewSwitcher?: boolean; // æ˜¾ç¤ºè§†å›¾åˆ‡æ¢
    customButtons?: ToolbarButton[]; // è‡ªå®šä¹‰æŒ‰é’®
  };
  
  // æ—¶é—´é…ç½®
  firstDayOfWeek?: 0 | 1 | 2 | 3 | 4 | 5 | 6; // 0 = å‘¨æ—¥
  businessHoursStart?: number; // å·¥ä½œæ—¶é—´å¼€å§‹ (0-24)
  businessHoursEnd?: number; // å·¥ä½œæ—¶é—´ç»“æŸ (0-24)
  timeZone?: string; // æ—¶åŒº
  weekends?: boolean; // æ˜¾ç¤ºå‘¨æœ«
  timeFormat?: string; // æ—¶é—´æ ¼å¼
  dateFormat?: string; // æ—¥æœŸæ ¼å¼
  
  // äº‹ä»¶é…ç½®
  defaultEventDuration?: number; // é»˜è®¤äº‹ä»¶æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
  slotDuration?: number; // æ—¶é—´é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
  editable?: boolean; // æ˜¯å¦å¯ç¼–è¾‘
  selectable?: boolean; // æ˜¯å¦å¯é€‰æ‹©
  
  // æ ·å¼é…ç½®
  height?: number | 'auto';
  width?: number | 'auto';
  theme?: string;
  locale?: string;
  
  // å­˜å‚¨é…ç½®
  storage?: StorageAdapter;
  
  // å›è°ƒå‡½æ•°
  callbacks?: {
    onEventClick?: (event: CalendarEvent) => void;
    onEventCreate?: (event: CalendarEvent) => void | boolean;
    onEventUpdate?: (event: CalendarEvent, oldEvent: CalendarEvent) => void | boolean;
    onEventDelete?: (id: string) => void | boolean;
    onDateSelect?: (start: Date, end: Date) => void;
    onDateClick?: (date: Date) => void;
    onViewChange?: (view: CalendarView, date: Date) => void;
  };
}
```

### CalendarEvent äº‹ä»¶å¯¹è±¡

```typescript
interface CalendarEvent {
  id: string; // å”¯ä¸€æ ‡è¯†
  title: string; // æ ‡é¢˜
  start: Date; // å¼€å§‹æ—¶é—´
  end: Date; // ç»“æŸæ—¶é—´
  allDay?: boolean; // æ˜¯å¦å…¨å¤©
  color?: string; // é¢œè‰²
  backgroundColor?: string; // èƒŒæ™¯è‰²
  borderColor?: string; // è¾¹æ¡†è‰²
  textColor?: string; // æ–‡å­—è‰²
  description?: string; // æè¿°
  location?: string; // åœ°ç‚¹
  recurrence?: RecurrenceRule; // é‡å¤è§„åˆ™
  editable?: boolean; // æ˜¯å¦å¯ç¼–è¾‘
  draggable?: boolean; // æ˜¯å¦å¯æ‹–æ‹½
  resizable?: boolean; // æ˜¯å¦å¯è°ƒæ•´å¤§å°
  extendedProps?: Record<string, any>; // è‡ªå®šä¹‰æ•°æ®
}
```

### RecurrenceRule é‡å¤è§„åˆ™

```typescript
interface RecurrenceRule {
  freq: 'daily' | 'weekly' | 'monthly' | 'yearly'; // é¢‘ç‡
  interval?: number; // é—´éš”ï¼ˆæ¯Nå¤©/å‘¨/æœˆ/å¹´ï¼‰
  until?: Date; // ç»“æŸæ—¥æœŸ
  count?: number; // é‡å¤æ¬¡æ•°
  byweekday?: number[]; // æ¯å‘¨çš„å“ªå‡ å¤© (0-6)
  bymonthday?: number[]; // æ¯æœˆçš„ç¬¬å‡ å¤©
  bymonth?: number[]; // æ¯å¹´çš„ç¬¬å‡ æœˆ
}
```

### Calendar æ–¹æ³•

```typescript
class Calendar {
  // è§†å›¾æ§åˆ¶
  changeView(view: CalendarView): void;
  next(): void;
  prev(): void;
  today(): void;
  gotoDate(date: Date): void;
  
  // äº‹ä»¶æ“ä½œ
  addEvent(event: Omit<CalendarEvent, 'id'>): Promise<string>;
  updateEvent(id: string, updates: Partial<CalendarEvent>): Promise<void>;
  deleteEvent(id: string): Promise<void>;
  getEvents(start?: Date, end?: Date): CalendarEvent[];
  getEvent(id: string): CalendarEvent | null;
  
  // äº‹ä»¶ç›‘å¬
  on(event: string, callback: Function): void;
  off(event: string, callback: Function): void;
  
  // ç”Ÿå‘½å‘¨æœŸ
  render(): void;
  destroy(): void;
}
```

---

## ğŸ¯ é«˜çº§åŠŸèƒ½

### é‡å¤äº‹ä»¶

```javascript
// æ¯å‘¨ä¸€ã€ä¸‰ã€äº”é‡å¤
calendar.addEvent({
  title: 'æ™¨ä¼š',
  start: new Date(2024, 0, 8, 9, 0),
  end: new Date(2024, 0, 8, 9, 30),
  recurrence: {
    freq: 'weekly',
    byweekday: [1, 3, 5], // å‘¨ä¸€ã€ä¸‰ã€äº”
    count: 20, // é‡å¤20æ¬¡
  },
});

// æ¯æœˆ15å·
calendar.addEvent({
  title: 'æœˆåº¦æ€»ç»“',
  start: new Date(2024, 0, 15, 14, 0),
  end: new Date(2024, 0, 15, 16, 0),
  recurrence: {
    freq: 'monthly',
    bymonthday: [15],
    until: new Date(2024, 11, 31),
  },
});
```

### è‡ªå®šä¹‰å­˜å‚¨

```javascript
import { ApiAdapter } from '@ldesign/calendar';

const apiAdapter = new ApiAdapter({
  baseUrl: 'https://api.example.com',
  endpoints: {
    list: '/calendar/events',
    create: '/calendar/events',
    update: '/calendar/events/:id',
    delete: '/calendar/events/:id',
  },
  headers: {
    'Authorization': 'Bearer YOUR_TOKEN',
  },
  transform: {
    request: (data) => {
      // è½¬æ¢è¯·æ±‚æ•°æ®
      return data;
    },
    response: (data) => {
      // è½¬æ¢å“åº”æ•°æ®
      return data.events;
    },
  },
});

const calendar = createCalendar('#calendar', {
  storage: apiAdapter,
});
```

---

## ğŸ¨ ä¸»é¢˜å®šåˆ¶

```css
/* è‡ªå®šä¹‰é¢œè‰² */
.ldesign-calendar {
  --primary-color: #1890ff;
  --border-color: #e8e8e8;
  --text-color: #262626;
  --background-color: #fff;
}

/* è‡ªå®šä¹‰äº‹ä»¶æ ·å¼ */
.ldesign-calendar-event {
  border-radius: 4px;
  font-weight: 500;
}

.ldesign-calendar-event.important {
  border-left-width: 4px;
  font-weight: 600;
}
```

---

## ğŸ“¦ æ„å»ºä¸å¼€å‘

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼
pnpm dev

# æ„å»º
pnpm build

# è¿è¡Œç¤ºä¾‹
pnpm serve
```

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“„ License

MIT Â© LDesign Team

---

## ğŸ”— å‚è€ƒé¡¹ç›®

æœ¬é¡¹ç›®å‚è€ƒäº†ä»¥ä¸‹ä¼˜ç§€çš„æ—¥å†ç»„ä»¶ï¼š

- [fullcalendar](https://fullcalendar.io/) - åŠŸèƒ½æœ€å…¨ã€æ’ä»¶ä¸°å¯Œ
- [tui-calendar](https://github.com/nhn/tui.calendar) - UI ç²¾ç¾
- [vue-cal](https://github.com/antoniandre/vue-cal) - Vue 3 åŸç”Ÿ
- [react-big-calendar](https://github.com/jquense/react-big-calendar) - React æ ‡å‡†
- [schedule-x](https://github.com/schedule-x/schedule-x) - ç°ä»£åŒ–è®¾è®¡

---

<div align="center">

**äº«å—ä½¿ç”¨ @ldesign/calendarï¼** ğŸ‰

[â¬† å›åˆ°é¡¶éƒ¨](#ldesigncalendar)

</div>
