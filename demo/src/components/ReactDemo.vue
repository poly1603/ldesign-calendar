<template>
  <div class="demo-section">
    <h2>âš›ï¸ React ç¤ºä¾‹</h2>
    <p class="desc">React ç»„ä»¶å’Œ Hook çš„ä½¿ç”¨æ–¹å¼</p>

    <div class="code-section">
      <h3>ç»„ä»¶æ–¹å¼</h3>
      <pre><code>{{ componentCode }}</code></pre>
    </div>

    <div class="code-section">
      <h3>Hook æ–¹å¼</h3>
      <pre><code>{{ hookCode }}</code></pre>
    </div>

    <div class="feature-grid">
      <div class="feature-card">
        <div class="feature-icon">ğŸ¯</div>
        <h3>TypeScript æ”¯æŒ</h3>
        <p>å®Œæ•´çš„ç±»å‹å®šä¹‰ï¼Œæ™ºèƒ½æç¤º</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">âš¡</div>
        <h3>æ€§èƒ½ä¼˜åŒ–</h3>
        <p>è™šæ‹Ÿ DOM + Canvas æ··åˆæ¸²æŸ“</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">ğŸ¨</div>
        <h3>ä¸»é¢˜å®šåˆ¶</h3>
        <p>çµæ´»çš„æ ·å¼ç³»ç»Ÿ</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">ğŸ“±</div>
        <h3>å“åº”å¼</h3>
        <p>å®Œç¾é€‚é…ç§»åŠ¨ç«¯</p>
      </div>
    </div>

    <div class="note">
      <p><strong>æ³¨æ„ï¼š</strong>React ç¤ºä¾‹éœ€è¦åœ¨ React é¡¹ç›®ä¸­è¿è¡Œã€‚</p>
      <p>æœ¬æ¼”ç¤ºé¡¹ç›®åŸºäº Vue 3ï¼Œè¿™é‡Œä»…å±•ç¤ºä»£ç ç¤ºä¾‹ã€‚</p>
    </div>
  </div>
</template>

<script setup lang="ts">
const componentCode = `import React, { useRef } from 'react';
import { Calendar } from '@ldesign/calendar/react';
import '@ldesign/calendar/dist/calendar.css';

function App() {
  const calendarRef = useRef(null);

  const handleEventClick = (event) => {
    console.log('ç‚¹å‡»äº‹ä»¶:', event);
  };

  const handleDateSelect = async (start, end) => {
    await calendarRef.current?.addEvent({
      title: 'æ–°äº‹ä»¶',
      start,
      end,
    });
  };

  return (
    <Calendar
      ref={calendarRef}
      config={{ 
        initialView: 'month',
        editable: true 
      }}
      onEventClick={handleEventClick}
      onDateSelect={handleDateSelect}
    />
  );
}`;

const hookCode = `import { useCalendar } from '@ldesign/calendar/react';

function App() {
  const {
    calendarRef,
    events,
    addEvent,
    changeView,
    next,
    prev,
    today,
  } = useCalendar({
    initialView: 'month',
    editable: true,
  });

  return (
    <div>
      <div ref={calendarRef} />
      <p>äº‹ä»¶æ•°: {events.length}</p>
      <button onClick={today}>ä»Šå¤©</button>
      <button onClick={prev}>ä¸Šä¸€ä¸ª</button>
      <button onClick={next}>ä¸‹ä¸€ä¸ª</button>
    </div>
  );
}`;
</script>

<style scoped>
.demo-section {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

h2 {
  color: #262626;
  margin: 0;
}

.desc {
  color: #8c8c8c;
  margin: 0;
}

.code-section {
  background: #f5f5f5;
  border-radius: 8px;
  padding: 20px;
}

.code-section h3 {
  margin: 0 0 10px 0;
  color: #595959;
  font-size: 14px;
}

pre {
  margin: 0;
  overflow-x: auto;
}

code {
  font-family: 'Courier New', monospace;
  font-size: 13px;
  line-height: 1.6;
  color: #262626;
}

.feature-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.feature-card {
  padding: 24px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 12px;
  color: white;
  text-align: center;
}

.feature-icon {
  font-size: 48px;
  margin-bottom: 12px;
}

.feature-card h3 {
  margin: 0 0 8px 0;
  font-size: 18px;
}

.feature-card p {
  margin: 0;
  font-size: 14px;
  opacity: 0.9;
}

.note {
  background: #fff7e6;
  border-left: 4px solid #faad14;
  padding: 16px;
  border-radius: 4px;
}

.note p {
  margin: 0;
  color: #8c8c8c;
  line-height: 1.6;
}

.note p:not(:last-child) {
  margin-bottom: 8px;
}

.note strong {
  color: #262626;
}
</style>
